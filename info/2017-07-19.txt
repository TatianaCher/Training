Компиляция кода

Ранее для получения полного результата выборки приходилось писать подобную конструкцию:

$result = mysqli_query($link, $query);

$data = array();
while($row = mysqli_fetch_assoc($result)) {
    $data[] = $row;
}

// это предлогалось  в магазине (Афанасьев), 
//в сравнении с блогом (Влад Гриценко) - его следующий вариант разница проектов 2015 ... 2016

В случае использования mysqli_fetch_all использования подобных конструкций можно избежать:

$result = mysqli_query($link, $query);
$data = mysqli_fetch_all($result, MYSQLI_ASSOC);


Функция mysqli_fetch_all () извлекает все строки результатов и возвращает набор результатов 
как ассоциативный массив, числовой массив или и то, и другое.

Синтаксис
mysqli_fetch_all(result,resulttype);

Parameter	Description
result	Required. Specifies a result set identifier returned by mysqli_query(), mysqli_store_result() or mysqli_use_result()
resulttype	Optional. Specifies what type of array that should be produced. Can be one of the following values:
MYSQLI_ASSOC
MYSQLI_NUM
MYSQLI_BOTH

Примечание. Эта функция доступна только для MySQL Native Driver.

Функция  createSmartyRsArray (в  файле CategoriesModel)   в   get_ChildrenForCat должна возвращать значение  из функции createSmartyRsArray которая находится  файле mainFunctions, но этого не происходит.
Опять не видят друг друга? Можете подсказать как исправить?


...у кого вдруг не получилось что, на msqli (не путать с mysql) вот решение:
 1) создаем почти все то же самое что и автор этого видео c поправкой на валидный mysqli, а именно в файле db.php 
 (я назвал для удобства connect.php): 
 //>идентификатор подключения 
 $dblocation = 'localhost';
 // или "127.0.0.1" 
 $dbname = 'myshop'; $dbuser = 'root';
 $dbpasswd = ' '; 
 $db = new mysqli($dblocation, $dbuser, $dbpasswd, $dbname);
 //создаем объект 
 if ($db->connect_errno) { die('Не удалось подключится к MySQL.'); } 
 //< После сделанных манипуляций ставим видео на паузу оно вам не пригодится пока, потому что код диаметрально противоположный 
 2)далее заходим в в indexController.php и вставляем в документ 
 function getAllMainCatsWithChildren(){ global $sql, $db, $rs; 
 /очень важная строка без передачи переменной глобально, ведь у нас там объект (new mysqli да да он самый,а ту вдруг забыли),
 Объекты которым присвоили переменные можно передавать только с параметром global или в массиве, если я все правильно понял, без этого ОБЪЕКТЫ ЗАКЛЮЧЕННЫЕ В ПЕРЕМЕННЫЕ НЕ БУДУТ ВИДНЫ, код работать не будет!!!
 / $sql = "SELECT * FROM categories WHERE parent_id = 0"; 
 $rs = $db->query($sql); 
 while ($row = $rs->fetch_assoc()) { echo "id =" . $row['id'] . "<br />"; } }

 P.S Раз автор лентяй, или просто нету времени решил написать ,потому что коноебился с этим дня три. Ни в одном мануале не было сказано о том что при обращении в ф-ии нужно передавать объект глобально, ни в английской ,ни тем более в русской документации,надеюсь кому поможет. Может я туп может слепой, и плохо читал документацию, всегда найдется человек который умнее или сильнее тебя.Это я для вас пишу с завышенным чсвГуглвпомощь(Вас господа я проигнорирую, просьба не писать гневные комментарии.).И конечно Спасибо вам огромное за курс, пусть и 12 года, все же объясняете вы прекрасно, и картинка складывается из отдельных кусочков прекрасно. Жаль, что хотябы ну не знаю на гитхабе сделали проект, и туда записали пояснения, на вроде 
 В 2.2.2 Эксперт PHP: MVC - первая модель. Продолжение не работает в 2016 году mysql_connect и прочее, ну как говорится захотели чтоб канал жил, можно же для людей сделать аннотации, пояснения наконец выложить исходники, потому что мотать не всегда удобно,а подглядеть, что и как всегда не помешает.А не просто выложить пусть даже платный курс,(я понимаю старались, хочется денег, все понимаю) но тупо выложить курс 2012 года, без ремарок ,это мягко говоря не очень красиво.... От себя добавлю лайк я вам все равно поставил.Но все-таки немного прислушайтесь к моему совету
